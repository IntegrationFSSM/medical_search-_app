<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Évaluation Trouble d'Insomnie – DSM-5-TR</title>
  <style>
  .top-bar {
    display: flex;
    align-items: center;
    background-color: #dff0dc;
    padding: 10px 20px;
    margin-bottom: 30px;
    border-radius: 6px;
  }
  .titre-centre {
    flex: 1;
    text-align: center;
  }
  .titre-centre h1 {
    margin: 0;
    font-size: 28px;
    color: #3d7a3b;
  }
  .titre-centre h2 {
    margin: 0;
    font-size: 16px;
    color: #3d7a3b;
  }

    body { font-family: 'Segoe UI', sans-serif; max-width: 960px; margin: auto; padding: 20px; background: #f5fff8; color: #2e3b2c; }
    fieldset { border: 2px solid #8cc63f; padding: 15px; margin-bottom: 20px; background: #ffffff; }
    legend { font-weight: bold; color: #3d7a3b; }
    label { display: block; margin-bottom: 5px; }
    button {
      background-color: #8cc63f;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 4px;
      margin-top: 10px;
      cursor: pointer;
    }
    button:hover { background-color: #76b42f; }
    .boutons-validation {
      display: flex;
      gap: 10px;
      margin-top: 20px;
      justify-content: center;
    }
    .btn-valide {
      background-color: #28a745;
      padding: 12px 30px;
      font-size: 16px;
      flex: 1;
    }
    .btn-valide:hover {
      background-color: #218838;
    }
    .btn-non-valide {
      background-color: #dc3545;
      padding: 12px 30px;
      font-size: 16px;
      flex: 1;
    }
    .btn-non-valide:hover {
      background-color: #c82333;
    }
    .subtitle {
      font-size: 0.9em;
      color: #666;
      font-style: italic;
    }
  </style>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

<div class="top-bar">
  <div class="titre-centre">
    <h1>CLINIQUE LA VALLÉE</h1>
    <h2>Évaluation du Trouble d'Insomnie – DSM-5-TR</h2>
  </div>
</div>

<form id="formulaire">

<!-- Critère A -->
<fieldset id="critereA">
  <legend>Critère A – Plainte prédominante d'insatisfaction avec le sommeil</legend>
  <p class="subtitle">Plainte prédominante d'insatisfaction avec la quantité ou la qualité du sommeil, associée à un (ou plusieurs) des symptômes suivants. Au moins 1 des 3 symptômes requis</p>
  
  <label><input type="checkbox" name="critereA" value="Plainte prédominante d'insatisfaction avec quantité ou qualité du sommeil"/> Plainte prédominante d'insatisfaction avec la quantité ou la qualité du sommeil</label>
  
  <p style="margin-top: 10px;"><strong>Associée à un (ou plusieurs) des symptômes suivants :</strong></p>
  
  <label><input type="checkbox" name="symptomes" value="1. Difficulté à initier le sommeil (chez enfants: sans intervention du soignant)"/> <strong>1.</strong> Difficulté à initier le sommeil (Chez enfants: peut se manifester comme difficulté à initier le sommeil sans intervention du soignant)</label>
  
  <label><input type="checkbox" name="symptomes" value="2. Difficulté à maintenir le sommeil, caractérisée par réveils fréquents ou problèmes à se rendormir après réveils (chez enfants: sans intervention du soignant)"/> <strong>2.</strong> Difficulté à maintenir le sommeil, caractérisée par réveils fréquents ou problèmes à se rendormir après réveils (Chez enfants: peut se manifester comme difficulté à se rendormir sans intervention du soignant)</label>
  
  <label><input type="checkbox" name="symptomes" value="3. Réveil matinal précoce avec incapacité à se rendormir"/> <strong>3.</strong> Réveil matinal précoce avec incapacité à se rendormir</label>
</fieldset>

<!-- Critère B -->
<fieldset id="critereB">
  <legend>Critère B – Détresse ou altération cliniquement significative</legend>
  <p class="subtitle">La perturbation du sommeil cause une détresse ou altération cliniquement significative dans le fonctionnement</p>
  <label><input type="checkbox" name="critereB" value="Cause détresse ou altération cliniquement significative dans fonctionnement social, professionnel, éducatif, académique, comportemental ou autres domaines importants"/> Cause une détresse ou altération cliniquement significative dans le fonctionnement social, professionnel, éducatif, académique, comportemental ou autres domaines importants</label>
</fieldset>

<!-- Critère C -->
<fieldset id="critereC">
  <legend>Critère C – Fréquence</legend>
  <p class="subtitle">La difficulté de sommeil survient au moins 3 nuits par semaine. Fréquence minimale : ≥3 nuits/semaine</p>
  <label><input type="checkbox" name="critereC" value="Difficulté de sommeil survient au moins 3 nuits par semaine"/> La difficulté de sommeil survient au moins 3 nuits par semaine</label>
</fieldset>

<!-- Critère D -->
<fieldset id="critereD">
  <legend>Critère D – Durée</legend>
  <p class="subtitle">La difficulté de sommeil est présente depuis au moins 3 mois. Durée minimale : ≥3 mois. Note: L'insomnie aiguë et à court terme (symptômes durant moins de 3 mois mais remplissant tous les autres critères) doit être codée comme autre trouble d'insomnie spécifié</p>
  <label><input type="checkbox" name="critereD" value="Difficulté de sommeil présente depuis au moins 3 mois"/> La difficulté de sommeil est présente depuis au moins 3 mois</label>
</fieldset>

<!-- Critère E -->
<fieldset id="critereE">
  <legend>Critère E – Opportunité adéquate pour le sommeil</legend>
  <p class="subtitle">La difficulté de sommeil survient malgré une opportunité adéquate pour le sommeil</p>
  <label><input type="checkbox" name="critereE" value="Difficulté de sommeil survient malgré opportunité adéquate pour sommeil"/> La difficulté de sommeil survient malgré une opportunité adéquate pour le sommeil</label>
</fieldset>

<!-- Critère F -->
<fieldset id="critereF">
  <legend>Critère F – Non mieux expliqué par autre trouble veille-sommeil</legend>
  <p class="subtitle">L'insomnie n'est pas mieux expliquée par et ne survient pas exclusivement durant le cours d'un autre trouble veille-sommeil</p>
  <label><input type="checkbox" name="critereF" value="Non mieux expliqué par autre trouble veille-sommeil (narcolepsie, trouble respiratoire, trouble rythme circadien, parasomnie)"/> Non mieux expliqué par et ne survient pas exclusivement durant un autre trouble veille-sommeil (ex: narcolepsie, trouble respiratoire du sommeil, trouble du rythme circadien veille-sommeil, parasomnie)</label>
</fieldset>

<!-- Critère G -->
<fieldset id="critereG">
  <legend>Critère G – Non attribuable à substance</legend>
  <p class="subtitle">L'insomnie n'est pas attribuable aux effets physiologiques d'une substance</p>
  <label><input type="checkbox" name="critereG" value="Non attribuable aux effets physiologiques d'une substance (drogue, médicament)"/> Non attribuable aux effets physiologiques d'une substance (ex: drogue, médicament)</label>
</fieldset>

<!-- Critère H -->
<fieldset id="critereH">
  <legend>Critère H – Troubles coexistants n'expliquent pas adéquatement</legend>
  <p class="subtitle">Les troubles mentaux et conditions médicales coexistants n'expliquent pas adéquatement la plainte prédominante d'insomnie. Note: Le diagnostic d'insomnie est posé qu'elle survienne comme condition indépendante ou soit comorbide avec un autre trouble mental, condition médicale ou autre trouble du sommeil. Un diagnostic concurrent d'insomnie doit être considéré uniquement quand l'insomnie est suffisamment sévère pour mériter une attention clinique indépendante</p>
  <label><input type="checkbox" name="critereH" value="Troubles mentaux et conditions médicales coexistants n'expliquent pas adéquatement plainte prédominante d'insomnie"/> Les troubles mentaux et conditions médicales coexistants n'expliquent pas adéquatement la plainte prédominante d'insomnie</label>
</fieldset>

<!-- Spécificateurs -->
<fieldset id="specificateurs">
  <legend>Spécificateurs</legend>
  
  <p style="margin-top: 10px;"><strong>Comorbidité (Note de codage: F51.01 s'applique aux trois spécificateurs. Coder également le trouble associé immédiatement après) :</strong></p>
  <label><input type="checkbox" name="comorbidite" value="Avec trouble mental, incluant troubles d'usage de substances"/> Avec trouble mental, incluant troubles d'usage de substances</label>
  <label><input type="checkbox" name="comorbidite" value="Avec condition médicale"/> Avec condition médicale</label>
  <label><input type="checkbox" name="comorbidite" value="Avec autre trouble du sommeil"/> Avec autre trouble du sommeil</label>
  
  <p style="margin-top: 15px;"><strong>Évolution :</strong></p>
  <label><input type="radio" name="evolution" value="Épisodique"/> <strong>Épisodique :</strong> Symptômes durent au moins 1 mois mais moins de 3 mois</label>
  <label><input type="radio" name="evolution" value="Persistant"/> <strong>Persistant :</strong> Symptômes durent 3 mois ou plus</label>
  <label><input type="radio" name="evolution" value="Récurrent"/> <strong>Récurrent :</strong> Deux épisodes ou plus dans l'espace d'une année</label>
</fieldset>

<!-- Diagnostic différentiel -->
<fieldset>
  <legend>Diagnostic différentiel</legend>
  <label><input type="checkbox" name="diff_diag" value="Variation normale du sommeil"/> Variation normale du sommeil</label>
  <label><input type="checkbox" name="diff_diag" value="Autres troubles veille-sommeil"/> Autres troubles veille-sommeil (narcolepsie, apnée, rythme circadien)</label>
  <label><input type="checkbox" name="diff_diag" value="Troubles de l'humeur"/> Troubles de l'humeur (dépression, trouble bipolaire)</label>
  <label><input type="checkbox" name="diff_diag" value="Troubles anxieux"/> Troubles anxieux</label>
  <label><input type="checkbox" name="diff_diag" value="Troubles d'usage de substances"/> Troubles d'usage de substances</label>
</fieldset>

<!-- Comorbidité -->
<fieldset>
  <legend>Comorbidité</legend>
  <label><input type="checkbox" name="comorbidite_autre" value="Troubles de l'humeur"/> Troubles de l'humeur (dépression)</label>
  <label><input type="checkbox" name="comorbidite_autre" value="Troubles anxieux"/> Troubles anxieux</label>
  <label><input type="checkbox" name="comorbidite_autre" value="Autres troubles du sommeil"/> Autres troubles du sommeil</label>
  <label><input type="checkbox" name="comorbidite_autre" value="Conditions médicales"/> Conditions médicales (douleur chronique, conditions neurologiques)</label>
</fieldset>

<!-- Boutons de validation -->
<div class='boutons-validation'>
  <button class='btn-valide' onclick='validerFormulaire()'>✔️ VALIDE</button>
  <button class='btn-non-valide' onclick='nonValiderFormulaire()'>✘ NON VALIDE</button>
</div>

</form>

<footer style="text-align:center; font-size:0.9em; margin-top: 40px; padding-top: 15px; border-top: 1px solid #ccc;">
  <p>CLINIQUE LA VALLÉE – RIAD AL ANDALOUSSE VILLA 39, AV. ABDERRAHIM BOUABID, HAY RIAD 1, Rabat</p>
  <p>Date : 16/10/2025 — <strong style="color:darkred;">DOCUMENT CONFIDENTIEL</strong></p>
</footer>

<script>
function validerFormulaire() {
  // Cette fonction sera remplacee dynamiquement par Django en mode validation
  Swal.fire({icon: 'success', title: 'Validé !', text: 'Formulaire marqué comme VALIDE', timer: 2000, showConfirmButton: false});
}

function nonValiderFormulaire() {
  // Cette fonction sera remplacee dynamiquement par Django en mode validation
  Swal.fire({icon: 'warning', title: 'Non validé', text: 'Formulaire marqué comme NON VALIDE', timer: 2000, showConfirmButton: false});
}
</script>

</body>
</html>
